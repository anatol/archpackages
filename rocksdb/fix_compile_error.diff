diff --git a/build_tools/build_detect_platform b/build_tools/build_detect_platform
index dfe8996..5d24345 100755
--- a/build_tools/build_detect_platform
+++ b/build_tools/build_detect_platform
@@ -184,6 +184,7 @@ EOF
 EOF
     if [ "$?" = 0 ]; then
         COMMON_FLAGS="$COMMON_FLAGS -DGFLAGS"
+        PLATFORM_LDFLAGS="$PLATFORM_LDFLAGS -lgflags"
     fi
 
     # Test whether zlib library is installed
diff --git a/include/rocksdb/transaction_log.h b/include/rocksdb/transaction_log.h
index 4da83d0..703297c 100644
--- a/include/rocksdb/transaction_log.h
+++ b/include/rocksdb/transaction_log.h
@@ -52,7 +52,7 @@ class LogFile {
 };
 
 struct BatchResult {
-  SequenceNumber sequence;
+  SequenceNumber sequence = 0;
   std::unique_ptr<WriteBatch> writeBatchPtr;
 };
 
