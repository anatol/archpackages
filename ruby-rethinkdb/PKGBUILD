# Maintainer: Anatol Pomozov <anatol dot pomozov at gmail dot com>

_gemname=rethinkdb
pkgname=ruby-$_gemname
pkgver=1.11.0.0
pkgrel=1
pkgdesc="This package provides the Ruby driver library for the RethinkDB database server."
arch=(any)
url='http://rethinkdb.com'
license=('Apache-2')
depends=(ruby)
makedepends=(rubygems)
options=(!emptydirs)
source=("https://rubygems.org/downloads/${_gemname}-$pkgver.gem")
sha256sums=('b4ed683a7d0b8aadbdbfb6b10f564b5141f9463be65f7dc20e5d471ef4fcc2aa')

package() {
  cd "$srcdir"

  local _gemdir="$(ruby -rubygems -e 'puts Gem.default_dir')"
  gem install --no-user-install --ignore-dependencies -i "${pkgdir}${_gemdir}" ${_gemname}-$pkgver.gem
  rm -rf "${pkgdir}${_gemdir}/cache"
}
