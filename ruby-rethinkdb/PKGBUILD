# Maintainer: Anatol Pomozov <anatol dot pomozov at gmail dot com>

_gemname=rethinkdb
pkgname=ruby-$_gemname
pkgver=1.7.0.0
pkgrel=1
pkgdesc="This package provides the Ruby driver library for the RethinkDB database server."
arch=(any)
url='http://rethinkdb.com'
license=('Apache-2')
depends=(ruby)
makedepends=(rubygems)
options=(!emptydirs)
source=("https://rubygems.org/downloads/${_gemname}-$pkgver.gem")
sha256sums=('7a64876bd32966e434a0b64eb4592391e18ddf9ef4bfe09a5752a8a129a791c3')

package() {
  cd "$srcdir"

  local _gemdir="$(ruby -rubygems -e 'puts Gem.default_dir')"
  gem install --no-user-install --ignore-dependencies -i "${pkgdir}${_gemdir}" ${_gemname}-$pkgver.gem
  rm -rf "${pkgdir}${_gemdir}/cache"
}
