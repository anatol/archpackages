# Maintainer: Anatol Pomozov <anatol dot pomozov at gmail dot com>

_gemname=tarantool-record
pkgname=ruby-$_gemname
pkgver=0.4.2
pkgrel=1
pkgdesc='Tarantool KV-storage ActiveModel-aware Record'
arch=(any)
url='http://tarantool.org/'
license=(BSD)
depends=(ruby)
makedepends=(rubygems)
options=(!emptydirs)
source=("https://rubygems.org/downloads/${_gemname}-$pkgver.gem")
sha256sums=('994b0813a6869288a11d8998c60195fa7521fe730f856a123d01c07b1eae071a')

package() {
  cd "$srcdir"

  local _gemdir="$(ruby -rubygems -e 'puts Gem.default_dir')"
  gem install --no-user-install --ignore-dependencies -i "${pkgdir}"${_gemdir} -n "${pkgdir}/usr/bin" ${_gemname}-$pkgver.gem
}
