# Maintainer: Anatol Pomozov <anatol dot pomozov at gmail dot com>

pkgname=ruby-tarantool
_gemname=tarantool
pkgver=0.4.3.3
pkgrel=1
pkgdesc='Ruby client for Tarantool Key-Value Storage'
arch=('any')
url='https://github.com/mailru/tarantool-ruby'
license=('BSD')
depends=('ruby')
makedepends=('rubygems')
options=('!emptydirs')
source=("https://rubygems.org/downloads/${_gemname}-${pkgver}.gem")
sha256sums=('5de65f2e2cab8aa7aa363ec977c28b6fa52df9f9f78d9f6bb14743b41d3a4339')

package() {
  cd "${srcdir}"

  local _gemdir="$(ruby -rubygems -e 'puts Gem.default_dir')"
  gem install --no-user-install --ignore-dependencies -i "${pkgdir}"${_gemdir} -n "${pkgdir}/usr/bin" ${_gemname}-${pkgver}.gem
}
